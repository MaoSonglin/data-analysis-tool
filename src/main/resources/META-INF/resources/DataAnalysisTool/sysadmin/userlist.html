<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>用户列表</title>
		<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css"/>
		<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css"/>
		<style type="text/css">
			.container,#list{
				margin-top: 10px;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<form class="form-inline" name="queryForm" action="#" method="post">
				<div class="form-group">
					<label class="control-label">查询：</label>
					<input class="form-control" name="queryValue" placeholder="用户名/ID" onchange="search()" />
				</div>
				<div class="form-group">
					<button class="btn btn-primary" type="button" onclick="search()">查询</button>
					<button class="btn btn-default" data-toggle="modal" data-target="#addUserModal" type="button">添加</button>
				</div>
			</form>
			<div class="" id="list">
				<table class="table table-hover table-bordered" >
					<tr>
						<th>序号</th>
						<th>用户名</th>
						<th>密码</th>
						<th>操作</th>
					</tr>
					<template v-for="(user,index) in userlist">
					<tr v-if="index >= (currPage-1) * pageSize && index < currPage * pageSize">
						<td v-html="user.id"></td>
						<td v-html="user.username"></td>
						<td v-html="user.password"></td>
						<td>
							<div class="btn-group">
								<a class="btn btn-default dropdown-toggle" data-toggle="dropdown">
									操作<span class="caret"></span>
								</a>
								<ul class="dropdown-menu">
									<li class=""><a href="javascript:;" v-on:click="update(user)">重置密码</a></li>
									<li><a href="javascript:;" v-on:click="remove(user)">删除</a></li>
								</ul>
							</div>
						</td>
					</tr>
					</template>
					<tr v-if="userlist == null || userlist.length == 0">
						<td colspan="4" class="text-center text-info">
							暂时没有用户数据！
						</td>
					</tr>
				</table>
			</div>
			
			<!--添加用户的模态框-->
			<div class="modal fade" id="addUserModal">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
							<h3 class="modal-title">添加用户</h3>
						</div>
						<div class="modal-body">
							<form id="addUserForm" name="addUserForm" action="#" method="post" class="form-horizontal" role="form">
								<div class="form-group">
									<label class="control-label col-md-3" for="username" >用户名:</label>
									<div class="col-md-9">
										<input class="form-control" id="username" name="username" placeholder="" 
											autofocus="autofocus" autocomplete="off" v-on:keydown=""  v-model="user.username"/>
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3" for="password">密码：</label>
									<div class="col-md-9">
										<input class="form-control" id="password" name="password" type="password" placeholder="" v-model="user.password" />
									</div>
								</div>
								<div class="form-group">
									<label class="control-label col-md-3" for="repassword">确认密码：</label>
									<div class="col-md-9">
										<input class="form-control" id="repassword" name="repassword" type="password" placeholder="" v-model="user.repassword" />
									</div>
								</div>
							</form>
						</div>
						<div class="modal-footer">
							<button class="btn btn-default" data-dismiss="modal">取消</button>
							<button class="btn btn-primary" data-dismiss="modal" v-on:click="addUser($event)">添加</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script src="../js/basepath.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/jquery-1.12.1.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/jquery.validate.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/vue.min.js" type="text/javascript" charset="utf-8"></script>
	<script type='text/javascript' src='../js/vue-resource.js'></script>
	<script src="../js/sysadmin/userlist.js" type="text/javascript" charset="utf-8"></script>
	<script src="../js/alter.js" type="text/javascript" charset="utf-8"></script>
</html>
